//
//  InvestimentosRouter.swift
//  Camila-TesteiOS
//
//  Created by camila oliveira on 20/04/18.
//  Copyright Â© 2018 Aliamcami. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

@objc protocol InvestimentosRoutingLogic{
    func routeToForm(segue: UIStoryboardSegue?)
    func routeToBack(segue: UIStoryboardSegue?)
}

protocol InvestimentosDataPassing{
    var dataStore: InvestimentosDataStore? { get }
}

class InvestimentosRouter: NSObject, InvestimentosRoutingLogic, InvestimentosDataPassing
{
    weak var viewController: InvestimentosViewController?
    var dataStore: InvestimentosDataStore?
    
    // MARK: Routing
    
    func routeToForm(segue: UIStoryboardSegue?){
        if let segue = segue {
            let destinationVC = segue.destination as! FormViewController
            var destinationDS = destinationVC.router!.dataStore!
            passDataToForm(source: dataStore!, destination: &destinationDS)
        } else {
            let storyboard = UIStoryboard(name: "Main", bundle: nil)
            let destinationVC = storyboard.instantiateViewController(withIdentifier: "FormViewController") as! FormViewController
//            let destinationDS = destinationVC.router!.dataStore!
//            passDataToSomewhere(source: dataStore!, destination: &destinationDS)
            navigateToForm(source: viewController!, destination: destinationVC)
        }
    }
    
    func routeToBack(segue: UIStoryboardSegue?){
        if let segue = segue{
            segue.perform()
        }else{
            navigateBack(source: viewController!)
        }
    }
    
    // MARK: Navigation
    
    func navigateToForm(source: InvestimentosViewController, destination: FormViewController){
        source.show(destination, sender: nil)
    }
    
    func navigateBack(source: InvestimentosViewController){
        source.dismiss(animated: false, completion: nil)
//        source.navigationController?.popViewController(animated: false)
    }
    
    // MARK: Passing data
    
    func passDataToForm(source: InvestimentosDataStore, destination: inout FormDataStore){
        
    }
}
